
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>R3F Immersive Explorer</title>
    <!-- Tailwind CSS is now included in the build process -->
    <link rel="stylesheet" href="/index.css">
    <!-- Load React and ReactDOM directly from CDN to ensure they're available -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <!-- Custom React initialization script to fix hooks -->
    <script>
    // This script ensures React hooks are properly initialized
    // It runs before the main application code
    (function() {
      try {
        console.log('Initializing React hooks...');
        
        // Check if React is available from CDN
        if (window.React) {
          console.log('React found on window:', window.React.version);
          
          // Ensure useLayoutEffect is properly defined
          if (!window.React.useLayoutEffect) {
            console.log('Defining useLayoutEffect...');
            // Use useEffect as a fallback for useLayoutEffect in non-browser environments
            window.React.useLayoutEffect = window.React.useEffect || 
              function useLayoutEffect(callback, deps) {
                return callback();
              };
          }
          
          // Check if ReactDOM is available
          if (window.ReactDOM) {
            console.log('ReactDOM found on window');
          } else {
            console.error('ReactDOM not found on window');
          }
        } else {
          console.error('React not found on window object');
        }
      } catch (e) {
        console.error('Error in react-init script:', e);
      }
    })();
    </script>
    <!-- Debug script to help diagnose issues -->
    <script src="/debug.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
